<?xml version="1.0"?>
<!DOCTYPE binding SYSTEM "binding.dtd">
<binding>
	<include path="binding.xml"/>
	<mapping name="ha-jdbc" class="net.sf.hajdbc.sql.xa.XADataSourceDatabaseCluster" factory="net.sf.hajdbc.sql.xa.XADataSourceDatabaseCluster.extractDatabaseCluster">
		<structure get-method="getDecorator" set-method="setDecorator" map-as="net.sf.hajdbc.distributable.DistributableDatabaseClusterDecorator" usage="optional"></structure>
		<collection add-method="addSynchronizationStrategyBuilder" iter-method="getSynchronizationStrategyBuilders" item-type="net.sf.hajdbc.sync.SynchronizationStrategyBuilder"></collection>
		<structure name="cluster">
			<structure map-as="net.sf.hajdbc.sql.AbstractDatabaseCluster"></structure>
			<collection add-method="add" iter-method="getDatabases" item-type="net.sf.hajdbc.sql.xa.XADataSourceDatabase"></collection>
		</structure>
	</mapping>
	
	<mapping name="xa-datasource" class="net.sf.hajdbc.sql.xa.XADataSourceDatabase" extends="net.sf.hajdbc.sql.AbstractDatabase">
		<value name="name" get-method="getName" set-method="setName"/>
		<structure map-as="net.sf.hajdbc.sql.AbstractDatabase"></structure>
	</mapping>
</binding>