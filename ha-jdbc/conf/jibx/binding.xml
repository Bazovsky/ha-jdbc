<?xml version="1.0"?>
<!DOCTYPE binding SYSTEM "binding.dtd">
<binding direction="input">
	<mapping name="ha-jdbc" class="net.sf.hajdbc.DatabaseClusterFactory$Configuration">
		<structure name="distributable" field="decoratorDescriptor" type="net.sf.hajdbc.distributable.DistributableDatabaseClusterDescriptor" usage="optional">
			<value name="protocol" field="protocol" style="attribute"></value>
		</structure>
		<collection field="descriptorList" type="java.util.LinkedList"></collection>
	</mapping>
	<mapping name="cluster" class="net.sf.hajdbc.local.LocalDatabaseClusterDescriptor">
		<value name="id" field="id" style="attribute"></value>
		<value name="balancer" field="balancer" style="attribute"></value>
		<collection add-method="addDatabase" item-type="net.sf.hajdbc.DriverDatabase"></collection>
		<collection add-method="addDatabase" item-type="net.sf.hajdbc.DataSourceDatabase"></collection>
		<collection add-method="addDatabase" item-type="net.sf.hajdbc.pool.ConnectionPoolDataSourceDatabase"></collection>
		<collection add-method="addDatabase" item-type="net.sf.hajdbc.pool.xa.XADataSourceDatabase"></collection>
		<value name="validate-sql" field="validateSQL" usage="optional" default="SELECT 1"></value>
		<collection add-method="addSynchronizationStrategy" item-type="net.sf.hajdbc.SynchronizationStrategyDescriptor"></collection>
	</mapping>
	<mapping name="database" class="net.sf.hajdbc.DriverDatabase">
		<value name="id" field="id" style="attribute"></value>
    <value name="weight" field="weight" style="attribute" default="1"></value>
		<value name="driver" field="driver" usage="optional"></value>
		<value name="url" field="url"></value>
		<value name="user" field="user" usage="optional"></value>
		<value name="password" field="password" usage="optional"></value>
	</mapping>
	<mapping name="datasource" class="net.sf.hajdbc.DataSourceDatabase">
		<value name="id" field="id" style="attribute"></value>
		<value name="name" field="name"></value>
		<value name="user" field="user" usage="optional"></value>
		<value name="password" field="password" usage="optional"></value>
	</mapping>
	<mapping name="pool-datasource" class="net.sf.hajdbc.pool.ConnectionPoolDataSourceDatabase">
		<value name="id" field="id" style="attribute"></value>
		<value name="name" field="name"></value>
		<value name="user" field="user" usage="optional"></value>
		<value name="password" field="password" usage="optional"></value>
	</mapping>
	<mapping name="xa-datasource" class="net.sf.hajdbc.pool.xa.XADataSourceDatabase">
		<value name="id" field="id" style="attribute"></value>
		<value name="name" field="name"></value>
		<value name="user" field="user" usage="optional"></value>
		<value name="password" field="password" usage="optional"></value>
	</mapping>
	<mapping name="sync-strategy" class="net.sf.hajdbc.SynchronizationStrategyDescriptor">
		<value name="id" field="id" style="attribute"></value>
		<value name="class" field="className" style="attribute"></value>
		<collection field="propertyList" type="java.util.LinkedList" usage="optional">
			<structure name="property" type="java.beans.ParameterDescriptor">
				<value name="name" get-method="getName" set-method="setName" style="attribute"></value>
				<value get-method="getDisplayName" set-method="setDisplayName" style="text"></value>
			</structure>
		</collection>
	</mapping>
</binding>
