<?xml version="1.0"?>
<!--
 HA-JDBC: High-Availability JDBC
 Copyright (c) 2004-2007 Paul Ferraro

 This library is free software; you can redistribute it and/or modify it
 under the terms of the GNU Lesser General Public License as published by the
 Free Software Foundation; either version 2.1 of the License, or (at your
 option) any later version.

 This library is distributed in the hope that it will be useful, but WITHOUT
 ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
 for more details.

 You should have received a copy of the GNU Lesser General Public License
 along with this library; if not, write to the Free Software Foundation,
 Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA

 Contact: ferraro@users.sourceforge.net
-->
<project name="ha-jdbc-backport" default="backport" basedir=".">
	
	<property name="build.dir" location="${basedir}/build"></property>
	<property name="build-1.4.dir" location="${basedir}/build-1.4"></property>
	<property name="lib.dir" location="${basedir}/lib"></property>
	<property name="lib-1.4.dir" location="${basedir}/lib-1.4"></property>
	<property name="lib-1.4.compile.dir" location="${lib-1.4.dir}/compile"></property>

	<path id="retrotranslate.classpath">
		<fileset dir="${lib-1.4.dir}"></fileset>
		<fileset dir="${lib-1.4.compile.dir}"></fileset>
		<dirset dir="${build-1.4.dir}"></dirset>
	</path>
	
	<taskdef name="retrotranslate" classname="net.sf.retrotranslator.transformer.RetrotranslatorTask" classpathref="retrotranslate.classpath"></taskdef>

	<target name="backport">
		<copy todir="${lib-1.4.dir}">
			<fileset dir="${lib.dir}" includes="jgroups-*.jar"></fileset>
		</copy>
		<retrotranslate>
			<jarfileset dir="${lib-1.4.dir}" includes="jgroups-*.jar"/>
		</retrotranslate>
		<retrotranslate srcdir="${build.dir}" destdir="${build-1.4.dir}" backport="net.sf.hajdbc.backport"></retrotranslate>
	</target>
	
</project>	